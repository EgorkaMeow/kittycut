(this.webpackJsonpkittycut=this.webpackJsonpkittycut||[]).push([[0],{19:function(t,e,n){t.exports=n.p+"static/media/logo.fd51c2a7.svg"},23:function(t,e,n){t.exports=n(38)},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},32:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(18),o=n.n(r),l=(n(28),n(7)),u=n(8),i=n(10),s=n(9),f=(n(29),n(30),n(19)),d=n.n(f),h=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={url:"",show_cut_url:!1,cut_url:""},t.handleChangeInputValue=function(e){t.setState({url:e.target.value})},t.createLink=function(e){e.preventDefault();var n=new FormData;n.append("action","create_link"),n.append("link",t.state.url),t.validateURL(t.state.url)?fetch("http://localhost/backend/index.php",{method:"POST",body:n}).then((function(t){return t.json()})).then((function(e){"ok"==e.status?t.setState({show_cut_url:!0,cut_url:e.link}):alert("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0437\u0430\u043d\u043e\u0432\u043e!")})).catch((function(t){console.error(t)})):alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 url!")},t.selectCutUrl=function(t){t.target.select()},t.validateURL=function(t){return/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(t)},t.closeResult=function(){t.setState({show_cut_url:!1})},t}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-block"},c.a.createElement("form",{onSubmit:this.createLink},c.a.createElement("img",{src:d.a,alt:"kittycut"}),c.a.createElement("div",{className:"input-item"},c.a.createElement("input",{type:"text",name:"original_link",value:this.state.url,onChange:this.handleChangeInputValue,placeholder:"URL"}),c.a.createElement("button",null,"\u2714"))),c.a.createElement("div",{className:"cut_result",style:{display:this.state.show_cut_url?"flex":"none"}},c.a.createElement("span",{onClick:this.closeResult},"\u2716"),c.a.createElement("input",{type:"text",name:"cut_link",value:this.state.cut_url,onClick:this.selectCutUrl,readOnly:!0}))))}}]),n}(c.a.Component),p=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(h,null))}}]),n}(c.a.Component),m=n(13),k=n.n(m),v=n(20),w=(n(32),function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).componentWillMount=Object(v.a)(k.a.mark((function t(){var e,n,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new FormData).append("action","get_link"),e.append("link","kittycut.tk"+window.location.pathname),t.next=5,fetch("http://localhost/backend/index.php",{method:"POST",body:e});case 5:if(200!=(n=t.sent).status){t.next=13;break}return t.next=9,n.json();case 9:"ok"==(a=t.sent).status?window.location.href="http://"+a.link:window.location.href="/",t.next=14;break;case 13:window.location.href="/";case 14:case"end":return t.stop()}}),t)}))),t}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement("section",null,"Redirecting...")}}]),n}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(21),y=n(1);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b.a,null,c.a.createElement(y.c,null,c.a.createElement(y.a,{exact:!0,path:"/",component:p}),c.a.createElement(y.a,{path:"/*",component:w})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.4115aadc.chunk.js.map